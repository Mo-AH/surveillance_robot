<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Welcome to Surveillance Robot’s documentation! &mdash; Surveillance Robot 0.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="#" class="icon icon-home"> Surveillance Robot
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Welcome to Surveillance Robot’s documentation!</a></li>
<li><a class="reference internal" href="#module-scripts.smach_robot">SMACH Robot Module</a><ul>
<li><a class="reference internal" href="#scripts.smach_robot.BuildMap"><code class="docutils literal notranslate"><span class="pre">BuildMap</span></code></a><ul>
<li><a class="reference internal" href="#scripts.smach_robot.BuildMap.execute"><code class="docutils literal notranslate"><span class="pre">BuildMap.execute()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scripts.smach_robot.Charge"><code class="docutils literal notranslate"><span class="pre">Charge</span></code></a><ul>
<li><a class="reference internal" href="#scripts.smach_robot.Charge.execute"><code class="docutils literal notranslate"><span class="pre">Charge.execute()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scripts.smach_robot.CheckLocation"><code class="docutils literal notranslate"><span class="pre">CheckLocation</span></code></a><ul>
<li><a class="reference internal" href="#scripts.smach_robot.CheckLocation.execute"><code class="docutils literal notranslate"><span class="pre">CheckLocation.execute()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scripts.smach_robot.Controller"><code class="docutils literal notranslate"><span class="pre">Controller</span></code></a><ul>
<li><a class="reference internal" href="#scripts.smach_robot.Controller.execute"><code class="docutils literal notranslate"><span class="pre">Controller.execute()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scripts.smach_robot.Planner"><code class="docutils literal notranslate"><span class="pre">Planner</span></code></a><ul>
<li><a class="reference internal" href="#scripts.smach_robot.Planner.execute"><code class="docutils literal notranslate"><span class="pre">Planner.execute()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scripts.smach_robot.Reasoner"><code class="docutils literal notranslate"><span class="pre">Reasoner</span></code></a><ul>
<li><a class="reference internal" href="#scripts.smach_robot.Reasoner.execute"><code class="docutils literal notranslate"><span class="pre">Reasoner.execute()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-utilities.surveillance_robot.smach_helper">SMACH Helper Module</a><ul>
<li><a class="reference internal" href="#utilities.surveillance_robot.smach_helper.SmachHelper"><code class="docutils literal notranslate"><span class="pre">SmachHelper</span></code></a><ul>
<li><a class="reference internal" href="#utilities.surveillance_robot.smach_helper.SmachHelper.battery_callback"><code class="docutils literal notranslate"><span class="pre">SmachHelper.battery_callback()</span></code></a></li>
<li><a class="reference internal" href="#utilities.surveillance_robot.smach_helper.SmachHelper.build_map"><code class="docutils literal notranslate"><span class="pre">SmachHelper.build_map()</span></code></a></li>
<li><a class="reference internal" href="#utilities.surveillance_robot.smach_helper.SmachHelper.check_location"><code class="docutils literal notranslate"><span class="pre">SmachHelper.check_location()</span></code></a></li>
<li><a class="reference internal" href="#utilities.surveillance_robot.smach_helper.SmachHelper.decide_next_location"><code class="docutils literal notranslate"><span class="pre">SmachHelper.decide_next_location()</span></code></a></li>
<li><a class="reference internal" href="#utilities.surveillance_robot.smach_helper.SmachHelper.format_query"><code class="docutils literal notranslate"><span class="pre">SmachHelper.format_query()</span></code></a></li>
<li><a class="reference internal" href="#utilities.surveillance_robot.smach_helper.SmachHelper.get_most_urgent"><code class="docutils literal notranslate"><span class="pre">SmachHelper.get_most_urgent()</span></code></a></li>
<li><a class="reference internal" href="#utilities.surveillance_robot.smach_helper.SmachHelper.get_plan_to_goal"><code class="docutils literal notranslate"><span class="pre">SmachHelper.get_plan_to_goal()</span></code></a></li>
<li><a class="reference internal" href="#utilities.surveillance_robot.smach_helper.SmachHelper.init_robot_pose"><code class="docutils literal notranslate"><span class="pre">SmachHelper.init_robot_pose()</span></code></a></li>
<li><a class="reference internal" href="#utilities.surveillance_robot.smach_helper.SmachHelper.map_callback"><code class="docutils literal notranslate"><span class="pre">SmachHelper.map_callback()</span></code></a></li>
<li><a class="reference internal" href="#utilities.surveillance_robot.smach_helper.SmachHelper.move_robot"><code class="docutils literal notranslate"><span class="pre">SmachHelper.move_robot()</span></code></a></li>
<li><a class="reference internal" href="#utilities.surveillance_robot.smach_helper.SmachHelper.recharge"><code class="docutils literal notranslate"><span class="pre">SmachHelper.recharge()</span></code></a></li>
<li><a class="reference internal" href="#utilities.surveillance_robot.smach_helper.SmachHelper.update_ontology"><code class="docutils literal notranslate"><span class="pre">SmachHelper.update_ontology()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-scripts.map_builder">Map Builder Module</a><ul>
<li><a class="reference internal" href="#scripts.map_builder.build_map"><code class="docutils literal notranslate"><span class="pre">build_map()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-scripts.robot_state">Robot State Module</a><ul>
<li><a class="reference internal" href="#scripts.robot_state.RobotState"><code class="docutils literal notranslate"><span class="pre">RobotState</span></code></a><ul>
<li><a class="reference internal" href="#scripts.robot_state.RobotState.battery_publisher"><code class="docutils literal notranslate"><span class="pre">RobotState.battery_publisher()</span></code></a></li>
<li><a class="reference internal" href="#scripts.robot_state.RobotState.get_pose"><code class="docutils literal notranslate"><span class="pre">RobotState.get_pose()</span></code></a></li>
<li><a class="reference internal" href="#scripts.robot_state.RobotState.recharge"><code class="docutils literal notranslate"><span class="pre">RobotState.recharge()</span></code></a></li>
<li><a class="reference internal" href="#scripts.robot_state.RobotState.set_pose"><code class="docutils literal notranslate"><span class="pre">RobotState.set_pose()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-scripts.controller">Controller Module</a><ul>
<li><a class="reference internal" href="#scripts.controller.ControllingAction"><code class="docutils literal notranslate"><span class="pre">ControllingAction</span></code></a><ul>
<li><a class="reference internal" href="#scripts.controller.ControllingAction.execute_callback"><code class="docutils literal notranslate"><span class="pre">ControllingAction.execute_callback()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-scripts.planner">Planner Module</a><ul>
<li><a class="reference internal" href="#scripts.planner.PlaningAction"><code class="docutils literal notranslate"><span class="pre">PlaningAction</span></code></a><ul>
<li><a class="reference internal" href="#scripts.planner.PlaningAction.execute_callback"><code class="docutils literal notranslate"><span class="pre">PlaningAction.execute_callback()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-utilities.surveillance_robot.architecture_name_mapper">Architecture Name Mapper Module</a><ul>
<li><a class="reference internal" href="#utilities.surveillance_robot.architecture_name_mapper.tag_log"><code class="docutils literal notranslate"><span class="pre">tag_log()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-utilities.surveillance_robot.action_client_helper">Action Client Helper Module</a><ul>
<li><a class="reference internal" href="#utilities.surveillance_robot.action_client_helper.ActionClientHelper"><code class="docutils literal notranslate"><span class="pre">ActionClientHelper</span></code></a><ul>
<li><a class="reference internal" href="#utilities.surveillance_robot.action_client_helper.ActionClientHelper.cancel_goals"><code class="docutils literal notranslate"><span class="pre">ActionClientHelper.cancel_goals()</span></code></a></li>
<li><a class="reference internal" href="#utilities.surveillance_robot.action_client_helper.ActionClientHelper.get_results"><code class="docutils literal notranslate"><span class="pre">ActionClientHelper.get_results()</span></code></a></li>
<li><a class="reference internal" href="#utilities.surveillance_robot.action_client_helper.ActionClientHelper.is_done"><code class="docutils literal notranslate"><span class="pre">ActionClientHelper.is_done()</span></code></a></li>
<li><a class="reference internal" href="#utilities.surveillance_robot.action_client_helper.ActionClientHelper.is_running"><code class="docutils literal notranslate"><span class="pre">ActionClientHelper.is_running()</span></code></a></li>
<li><a class="reference internal" href="#utilities.surveillance_robot.action_client_helper.ActionClientHelper.reset_client_states"><code class="docutils literal notranslate"><span class="pre">ActionClientHelper.reset_client_states()</span></code></a></li>
<li><a class="reference internal" href="#utilities.surveillance_robot.action_client_helper.ActionClientHelper.send_goal"><code class="docutils literal notranslate"><span class="pre">ActionClientHelper.send_goal()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">Surveillance Robot</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">Welcome to Surveillance Robot’s documentation!</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="welcome-to-surveillance-robot-s-documentation">
<h1>Welcome to Surveillance Robot’s documentation!<a class="headerlink" href="#welcome-to-surveillance-robot-s-documentation" title="Permalink to this heading"></a></h1>
<div class="toctree-wrapper compound">
</div>
</div>
<div class="section" id="module-scripts.smach_robot">
<span id="smach-robot-module"></span><h1>SMACH Robot Module<a class="headerlink" href="#module-scripts.smach_robot" title="Permalink to this heading"></a></h1>
<span class="target" id="module-smach_robot"></span><p>This module implements a node running the state machine of the robot.
It manages the transitions between states, leaving the computation processes to the helper
class of the smach given by the module <code class="xref py py-mod docutils literal notranslate"><span class="pre">state_machine_helper</span></code>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="scripts.smach_robot.BuildMap">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.smach_robot.</span></span><span class="sig-name descname"><span class="pre">BuildMap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">smach_helper</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/smach_robot.html#BuildMap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.smach_robot.BuildMap" title="Permalink to this definition"></a></dt>
<dd><p>This class defines the state BUILD_MAP of the state machine.</p>
<dl class="py method">
<dt class="sig sig-object py" id="scripts.smach_robot.BuildMap.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">userdata</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/smach_robot.html#BuildMap.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.smach_robot.BuildMap.execute" title="Permalink to this definition"></a></dt>
<dd><p>Execute method of the state BUILD_MAP</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>transition to the next state.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>string (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scripts.smach_robot.Charge">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.smach_robot.</span></span><span class="sig-name descname"><span class="pre">Charge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">smach_helper</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/smach_robot.html#Charge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.smach_robot.Charge" title="Permalink to this definition"></a></dt>
<dd><p>This class defines the state CHARGE of the state machine.</p>
<dl class="py method">
<dt class="sig sig-object py" id="scripts.smach_robot.Charge.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">userdata</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/smach_robot.html#Charge.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.smach_robot.Charge.execute" title="Permalink to this definition"></a></dt>
<dd><p>Execute method of the state CHARGE.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>transition to the next state.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>string (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scripts.smach_robot.CheckLocation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.smach_robot.</span></span><span class="sig-name descname"><span class="pre">CheckLocation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">smach_helper</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/smach_robot.html#CheckLocation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.smach_robot.CheckLocation" title="Permalink to this definition"></a></dt>
<dd><p>This class defines the state CHECK_LOCATION of the state machine.</p>
<dl class="py method">
<dt class="sig sig-object py" id="scripts.smach_robot.CheckLocation.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">userdata</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/smach_robot.html#CheckLocation.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.smach_robot.CheckLocation.execute" title="Permalink to this definition"></a></dt>
<dd><p>Execute method of the state CHECK_LOCATION.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>transition to the next state.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>string (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scripts.smach_robot.Controller">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.smach_robot.</span></span><span class="sig-name descname"><span class="pre">Controller</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">smach_helper</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/smach_robot.html#Controller"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.smach_robot.Controller" title="Permalink to this definition"></a></dt>
<dd><p>This class defines the inner state REACH_LOCATION / CONTROLLER of the state machine.</p>
<dl class="py method">
<dt class="sig sig-object py" id="scripts.smach_robot.Controller.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">userdata</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/smach_robot.html#Controller.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.smach_robot.Controller.execute" title="Permalink to this definition"></a></dt>
<dd><p>Execute method of the inner state REACH_LOCATION / CONTROLLER</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>transition to the next state.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>string (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scripts.smach_robot.Planner">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.smach_robot.</span></span><span class="sig-name descname"><span class="pre">Planner</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">smach_helper</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/smach_robot.html#Planner"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.smach_robot.Planner" title="Permalink to this definition"></a></dt>
<dd><p>This class defines the inner state REACH_LOCATION / PLANNER of the state machine.</p>
<dl class="py method">
<dt class="sig sig-object py" id="scripts.smach_robot.Planner.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">userdata</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/smach_robot.html#Planner.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.smach_robot.Planner.execute" title="Permalink to this definition"></a></dt>
<dd><p>Execute method of the inner state REACH_LOCATION / PLANNER</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>transition to the next state.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>string (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scripts.smach_robot.Reasoner">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.smach_robot.</span></span><span class="sig-name descname"><span class="pre">Reasoner</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">smach_helper</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/smach_robot.html#Reasoner"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.smach_robot.Reasoner" title="Permalink to this definition"></a></dt>
<dd><p>This class defines the inner state REACH_LOCATION / REASONER of the state machine.</p>
<dl class="py method">
<dt class="sig sig-object py" id="scripts.smach_robot.Reasoner.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">userdata</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/smach_robot.html#Reasoner.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.smach_robot.Reasoner.execute" title="Permalink to this definition"></a></dt>
<dd><p>Execute method of the inner state REACH_LOCATION / REASONER</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>transition to the next state.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>string (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-utilities.surveillance_robot.smach_helper">
<span id="smach-helper-module"></span><h1>SMACH Helper Module<a class="headerlink" href="#module-utilities.surveillance_robot.smach_helper" title="Permalink to this heading"></a></h1>
<span class="target" id="module-smach_helper"></span><p>This module can be considered as the core of the state machine, by helping it to process its computation.
It implements a specific method for every state plus some other useful method.
It exchanges information with the ontology with the api provided by the <a class="reference external" href="https://github.com/EmaroLab/armor_py_api">*armor_api*</a> library.
It simulates the robot 2D planning/motion, gets the battery state and build the topological map by interfacing with other modules:
<a class="reference internal" href="#module-planner" title="planner: Python module for the node that plans the robot's trajectory (Unix)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">planner</span></code></a>, <a class="reference internal" href="#module-controller" title="controller: Python module for the node that controls the robot's motion (Unix)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">controller</span></code></a>, <a class="reference internal" href="#module-robot_state" title="robot_state: Python module for the robot-state node (Unix)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">robot_state</span></code></a>, <a class="reference internal" href="#module-map_builder" title="map_builder: Python module for the node that build the map (Unix)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">map_builder</span></code></a></p>
<dl class="simple">
<dt>Subscriber of:</dt><dd><ul class="simple">
<li><p>/state/get_battery</p></li>
<li><p>/map/connections</p></li>
</ul>
</dd>
<dt>Service client of:</dt><dd><ul class="simple">
<li><p>/state/set_pose</p></li>
<li><p>/state/charge_battery</p></li>
</ul>
</dd>
<dt>Action client of:</dt><dd><ul class="simple">
<li><p>/motion/planner</p></li>
<li><p>/motion/controller</p></li>
</ul>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="utilities.surveillance_robot.smach_helper.SmachHelper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utilities.surveillance_robot.smach_helper.</span></span><span class="sig-name descname"><span class="pre">SmachHelper</span></span><a class="reference internal" href="_modules/utilities/surveillance_robot/smach_helper.html#SmachHelper"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utilities.surveillance_robot.smach_helper.SmachHelper" title="Permalink to this definition"></a></dt>
<dd><p>This class is the state machine helper. It loads the ontology, initializes the robot location and 2D position,
stores useful variables and provides methods to help the state machine in controlling the robot,
both in 2D Environment and in the ontology.</p>
<dl class="py method">
<dt class="sig sig-object py" id="utilities.surveillance_robot.smach_helper.SmachHelper.battery_callback">
<span class="sig-name descname"><span class="pre">battery_callback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilities/surveillance_robot/smach_helper.html#SmachHelper.battery_callback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utilities.surveillance_robot.smach_helper.SmachHelper.battery_callback" title="Permalink to this definition"></a></dt>
<dd><p>The subscriber of the <cite>/state/battery_low/</cite> topic.
It acquires the changes of states of the battery.</p>
<blockquote>
<div><dl class="simple">
<dt>Args:</dt><dd><p>msg (Bool) : represents the battery state</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utilities.surveillance_robot.smach_helper.SmachHelper.build_map">
<span class="sig-name descname"><span class="pre">build_map</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilities/surveillance_robot/smach_helper.html#SmachHelper.build_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utilities.surveillance_robot.smach_helper.SmachHelper.build_map" title="Permalink to this definition"></a></dt>
<dd><p>Method paired with BUILD_MAP state.
It assert the robot initial location, then waits for the map information.
Once map has been built, it disjoints all the individuals, initializes the timer of locations and the urgency threshold.
It uses, from the architecture_name_mapper file:</p>
<ul class="simple">
<li><p>ROBOT_NAME: the name of the robot</p></li>
<li><p>URGENCY_THRESHOLD: the threshold of urgency, after which a location becomes URGENT</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utilities.surveillance_robot.smach_helper.SmachHelper.check_location">
<span class="sig-name descname"><span class="pre">check_location</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">location</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilities/surveillance_robot/smach_helper.html#SmachHelper.check_location"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utilities.surveillance_robot.smach_helper.SmachHelper.check_location" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>Method paired with the CHECK_LOCATION state. It simulates the checking by wasting time and verifying the</dt><dd><p>battery level in the meanwhile.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>location</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a><em>[</em><em>]</em>) – The location to check</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if it finishes correctly, False if battery got low</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a> (Bool)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utilities.surveillance_robot.smach_helper.SmachHelper.decide_next_location">
<span class="sig-name descname"><span class="pre">decide_next_location</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilities/surveillance_robot/smach_helper.html#SmachHelper.decide_next_location"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utilities.surveillance_robot.smach_helper.SmachHelper.decide_next_location" title="Permalink to this definition"></a></dt>
<dd><p>Method paired with the REASONER state.</p>
<blockquote>
<div><dl class="simple">
<dt>It decides the next location by querying the ontology. The policy of the decision is the following:</dt><dd><ul class="simple">
<li><p>If battery_low, next_location = charging location</p></li>
<li><p>If urgent locations nearby, next_location = most urgent reachable location</p></li>
<li><p>Else, next_location = random CORRIDOR among the reachable</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>location to reach</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>next_location(<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utilities.surveillance_robot.smach_helper.SmachHelper.format_query">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">format_query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_of_object</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilities/surveillance_robot/smach_helper.html#SmachHelper.format_query"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utilities.surveillance_robot.smach_helper.SmachHelper.format_query" title="Permalink to this definition"></a></dt>
<dd><p>Function to format a list of query strings, by extracting only the meaningful part.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>old_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a><em>[</em><em>]</em>) – The list of queries to format.</p></li>
<li><p><strong>type_of_object</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a><em>[</em><em>]</em>) – The query type, that can be ‘LOCATION’ or ‘TIMESTAMP’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The formatted list of queries.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>formatted_list (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>[])</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utilities.surveillance_robot.smach_helper.SmachHelper.get_most_urgent">
<span class="sig-name descname"><span class="pre">get_most_urgent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reachable_locations</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilities/surveillance_robot/smach_helper.html#SmachHelper.get_most_urgent"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utilities.surveillance_robot.smach_helper.SmachHelper.get_most_urgent" title="Permalink to this definition"></a></dt>
<dd><p>This method is used by <cite>decide_next_location()</cite> and it returns the most urgent location among the ones given in input, if any, otherwhise it returns False.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>reachable_locations</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a><em>[</em><em>]</em>) – The list of reachable locations</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>The most urgent location among the reachable ones; if none of them are URGENT,</dt><dd><p>this is None.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>most_urgent_location(<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utilities.surveillance_robot.smach_helper.SmachHelper.get_plan_to_goal">
<span class="sig-name descname"><span class="pre">get_plan_to_goal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">goal_location</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilities/surveillance_robot/smach_helper.html#SmachHelper.get_plan_to_goal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utilities.surveillance_robot.smach_helper.SmachHelper.get_plan_to_goal" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>Method paired with the PLANNER state.</dt><dd><p>It simulates the planning by calling the <cite>planner</cite> action-server and verifying the battery level in the meanwhile.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>goal_location</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – The goal location to reach</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of points of the plan; if battery got low, this is simply False.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>plan_viapoints(Point[])</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utilities.surveillance_robot.smach_helper.SmachHelper.init_robot_pose">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">init_robot_pose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">point</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilities/surveillance_robot/smach_helper.html#SmachHelper.init_robot_pose"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utilities.surveillance_robot.smach_helper.SmachHelper.init_robot_pose" title="Permalink to this definition"></a></dt>
<dd><p>Function to initialize the robot 2D Pose, by using the service <cite>robot/set_pose</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>point</strong> (<em>Point</em>) – 2D Point representing the initial pose.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utilities.surveillance_robot.smach_helper.SmachHelper.map_callback">
<span class="sig-name descname"><span class="pre">map_callback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilities/surveillance_robot/smach_helper.html#SmachHelper.map_callback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utilities.surveillance_robot.smach_helper.SmachHelper.map_callback" title="Permalink to this definition"></a></dt>
<dd><p>The subscriber callback of the <cite>/state/battery_low/</cite> topic.
It receive connection pairs of LOCATION/DOOR, and adds them to the ontology</p>
<blockquote>
<div><dl class="simple">
<dt>Args:</dt><dd><p>msg (DoorConnection) : represents the connection between a DOOR and a LOCATION</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utilities.surveillance_robot.smach_helper.SmachHelper.move_robot">
<span class="sig-name descname"><span class="pre">move_robot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plan_viapoints</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_location</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilities/surveillance_robot/smach_helper.html#SmachHelper.move_robot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utilities.surveillance_robot.smach_helper.SmachHelper.move_robot" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>Method paired with the CONTROLLER state.</dt><dd><p>It simulates the motion by calling the <cite>controller</cite> action-server and verifying the battery level in the meanwhile.
Once arrived, it updates the robot location in the ontology (“isIn” object prop.) and the last time it moved (“now” data prop.)</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>plan_viapoints</strong> – The planned viapoint to reach the goal location.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if it finishes correctly, False if battery got low</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>(Bool)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utilities.surveillance_robot.smach_helper.SmachHelper.recharge">
<span class="sig-name descname"><span class="pre">recharge</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilities/surveillance_robot/smach_helper.html#SmachHelper.recharge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utilities.surveillance_robot.smach_helper.SmachHelper.recharge" title="Permalink to this definition"></a></dt>
<dd><p>Method used to send a request to the service that recharges the battery.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utilities.surveillance_robot.smach_helper.SmachHelper.update_ontology">
<span class="sig-name descname"><span class="pre">update_ontology</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilities/surveillance_robot/smach_helper.html#SmachHelper.update_ontology"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utilities.surveillance_robot.smach_helper.SmachHelper.update_ontology" title="Permalink to this definition"></a></dt>
<dd><p>Method to apply the changes in the buffer and to synchronyze the reasoner.
It is not protected by mutex because it is called always by the manipulations methods
that already have the mutex.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-scripts.map_builder">
<span id="map-builder-module"></span><h1>Map Builder Module<a class="headerlink" href="#module-scripts.map_builder" title="Permalink to this heading"></a></h1>
<span class="target" id="module-map_builder"></span><p>This module implements the map_builder node, to simulate a map acquisition process.
It publishes in the <cite>/map/connections</cite> topic every pair DOOR/LOCATION (DoorConnection msg) of the ontological map.</p>
<dl class="simple">
<dt>Publishes to:</dt><dd><p>/map/connections</p>
</dd>
</dl>
<dl class="py function">
<dt class="sig sig-object py" id="scripts.map_builder.build_map">
<span class="sig-prename descclassname"><span class="pre">scripts.map_builder.</span></span><span class="sig-name descname"><span class="pre">build_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">publisher</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/map_builder.html#build_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.map_builder.build_map" title="Permalink to this definition"></a></dt>
<dd><p>Method to publish pairs DOOR/LOCATION for the map building process in the <cite>/map/connections</cite> topic.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>publisher</strong> (<em>rospy.Publisher</em>) – publisher to the map topic</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-scripts.robot_state">
<span id="robot-state-module"></span><h1>Robot State Module<a class="headerlink" href="#module-scripts.robot_state" title="Permalink to this heading"></a></h1>
<span class="target" id="module-robot_state"></span><p>This module implements the node that manages the robot 2D pose and the battery level.
The battery level can be changed randomly by setting its time parameter or manually by the user.
This dual-behaviour can be switched by changing the parameter <cite>test/random_sense/active</cite>.</p>
<dl class="simple">
<dt>Publishes to:</dt><dd><p>/state/battery_low</p>
</dd>
<dt>Service:</dt><dd><p>/state/get_pose
/state/set_pose
/state/charge_battery</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="scripts.robot_state.RobotState">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.robot_state.</span></span><span class="sig-name descname"><span class="pre">RobotState</span></span><a class="reference internal" href="_modules/scripts/robot_state.html#RobotState"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.robot_state.RobotState" title="Permalink to this definition"></a></dt>
<dd><p>The robot state manager class.
This class provides:
- service to get the current robot pose
- service to set the current robot pose
- service to recharge the battery
- publisher to notify that the battery is low.</p>
<dl class="py method">
<dt class="sig sig-object py" id="scripts.robot_state.RobotState.battery_publisher">
<span class="sig-name descname"><span class="pre">battery_publisher</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/robot_state.html#RobotState.battery_publisher"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.robot_state.RobotState.battery_publisher" title="Permalink to this definition"></a></dt>
<dd><p>Publish changes of battery levels.
This method runs on a separate thread.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.robot_state.RobotState.get_pose">
<span class="sig-name descname"><span class="pre">get_pose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/robot_state.html#RobotState.get_pose"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.robot_state.RobotState.get_pose" title="Permalink to this definition"></a></dt>
<dd><p>The <cite>robot/get_pose</cite> service implementation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>request</strong> (<em>GetPoseRequest</em>) – empty request</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>response with the current pose of the robot</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>response (SetPoseResponse)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.robot_state.RobotState.recharge">
<span class="sig-name descname"><span class="pre">recharge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/robot_state.html#RobotState.recharge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.robot_state.RobotState.recharge" title="Permalink to this definition"></a></dt>
<dd><p>The <cite>state/charge_battery</cite> service implementation.
It waits the time specified in the parameter charging_time before returning the response.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>request</strong> (<em>SetBoolRequest</em>) – generic request</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>response that confirms the complete charging.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>response (SetBoolResponse)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.robot_state.RobotState.set_pose">
<span class="sig-name descname"><span class="pre">set_pose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/robot_state.html#RobotState.set_pose"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.robot_state.RobotState.set_pose" title="Permalink to this definition"></a></dt>
<dd><p>The <cite>robot/set_pose</cite> service implementation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>request</strong> (<em>SetPoseRequest</em>) – request with the current robot pose to be set,</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>empty response</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>response (SetPoseResponse)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-scripts.controller">
<span id="controller-module"></span><h1>Controller Module<a class="headerlink" href="#module-scripts.controller" title="Permalink to this heading"></a></h1>
<span class="target" id="module-controller"></span><p>This module implements a node running the action server to simulate control motion of the robot.
Given the waypoints, simulates robot movement passing through them.</p>
<dl class="simple">
<dt>Action server:</dt><dd><p>/motion/controller</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="scripts.controller.ControllingAction">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.controller.</span></span><span class="sig-name descname"><span class="pre">ControllingAction</span></span><a class="reference internal" href="_modules/scripts/controller.html#ControllingAction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.controller.ControllingAction" title="Permalink to this definition"></a></dt>
<dd><p>A class that provides an action server to simulate motion controlling.
Given a plan as a set of via points, it simulate the movements
to reach each point with a random delay.
This server updates the current robot position stored in the <cite>robot-state</cite> node.</p>
<dl class="py method">
<dt class="sig sig-object py" id="scripts.controller.ControllingAction.execute_callback">
<span class="sig-name descname"><span class="pre">execute_callback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">goal</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/controller.html#ControllingAction.execute_callback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.controller.ControllingAction.execute_callback" title="Permalink to this definition"></a></dt>
<dd><p>The callback invoked when a client set a goal to the <cite>controller</cite> server.
This function requires a list of via points (i.e., the plan), and it simulate
a movement through each point with a delay spanning in
[‘self._random_motion_time[0]`, <cite>self._random_motion_time[1]</cite>).
As soon as each via point is reached, the related robot position is updated
in the <cite>robot-state</cite> node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>goal</strong> (<em>ControlGoal</em>) – The action goal represented by a list of Point.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-scripts.planner">
<span id="planner-module"></span><h1>Planner Module<a class="headerlink" href="#module-scripts.planner" title="Permalink to this heading"></a></h1>
<span class="target" id="module-planner"></span><p>This module implements a node running the action server to simulate motion planning.
Given the goal point, plans a random number (range specified as a parameter) of waypoints to reach it.</p>
<dl class="simple">
<dt>Action server:</dt><dd><p>/motion/planner</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="scripts.planner.PlaningAction">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.planner.</span></span><span class="sig-name descname"><span class="pre">PlaningAction</span></span><a class="reference internal" href="_modules/scripts/planner.html#PlaningAction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.planner.PlaningAction" title="Permalink to this definition"></a></dt>
<dd><p>This class implements an action server to simulate motion planning.
Given a target position, it retrieve the current robot position from the
<cite>robot-state</cite> node, and return a plan as a set of via points.</p>
<dl class="py method">
<dt class="sig sig-object py" id="scripts.planner.PlaningAction.execute_callback">
<span class="sig-name descname"><span class="pre">execute_callback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">goal</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/planner.html#PlaningAction.execute_callback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.planner.PlaningAction.execute_callback" title="Permalink to this definition"></a></dt>
<dd><p>The callback invoked when a client set a goal to the <cite>planner</cite> server.
This function will return a list of random points (i.e., the plan) when the fist point
is the current robot position, while the last point is the <cite>goal</cite> position. The plan will contain
a random number of other points, which spans in the range
[<cite>self._random_plan_points[0]</cite>, <cite>self._random_plan_points[1]</cite>). To simulate computation,
each point is added to the plan with a random delay spanning in the range
[<cite>self._random_plan_time[0]</cite>, <cite>self._random_plan_time[1]</cite>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>goal</strong> (<em>PlanGoal</em>) – The action goal represented by a Point.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-utilities.surveillance_robot.architecture_name_mapper">
<span id="architecture-name-mapper-module"></span><h1>Architecture Name Mapper Module<a class="headerlink" href="#module-utilities.surveillance_robot.architecture_name_mapper" title="Permalink to this heading"></a></h1>
<span class="target" id="module-architecture_name_mapper"></span><p>In this module are defined the names of all parameters, nodes, topics, services and action servers of the architecture.
Also, it stores the data information about the ontology and the map.</p>
<dl class="py function">
<dt class="sig sig-object py" id="utilities.surveillance_robot.architecture_name_mapper.tag_log">
<span class="sig-prename descclassname"><span class="pre">utilities.surveillance_robot.architecture_name_mapper.</span></span><span class="sig-name descname"><span class="pre">tag_log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">producer_tag</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilities/surveillance_robot/architecture_name_mapper.html#tag_log"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utilities.surveillance_robot.architecture_name_mapper.tag_log" title="Permalink to this definition"></a></dt>
<dd><p>Function used to label each log with a producer tag.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – message to print</p></li>
<li><p><strong>producer_tag</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – name of the node producer</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>msg tagged by producer</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>)</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-utilities.surveillance_robot.action_client_helper">
<span id="action-client-helper-module"></span><h1>Action Client Helper Module<a class="headerlink" href="#module-utilities.surveillance_robot.action_client_helper" title="Permalink to this heading"></a></h1>
<span class="target" id="module-action_client_helper"></span><p>This module implements a class that simplifies the implementation of a client for ROS action servers.
It is used by the class <a class="reference internal" href="#module-smach_helper" title="smach_helper: Python module for the helper class, used by the module :mod:`smach_robot` (Unix)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">smach_helper</span></code></a></p>
<dl class="py class">
<dt class="sig sig-object py" id="utilities.surveillance_robot.action_client_helper.ActionClientHelper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utilities.surveillance_robot.action_client_helper.</span></span><span class="sig-name descname"><span class="pre">ActionClientHelper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">service_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">done_callback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feedback_callback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mutex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilities/surveillance_robot/action_client_helper.html#ActionClientHelper"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utilities.surveillance_robot.action_client_helper.ActionClientHelper" title="Permalink to this definition"></a></dt>
<dd><p>A class to simplify the implementation of a client for ROS action servers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>service_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – it is the name of the server that will be invoked by this client.</p></li>
<li><p><strong>action_type</strong> (<em>msg</em>) – it is the message type that the server will exchange.</p></li>
<li><p><strong>done_callback</strong> (<em>function</em>) – it is the name of the function called when the action server completed its computation. If</p></li>
<li><p><strong>set</strong> (<em>this parameter is not</em>) – </p></li>
<li><p><strong>computation.</strong> (<em>called when the server completes its</em>) – </p></li>
<li><p><strong>feedback_callback</strong> (<em>function</em>) – it is the name of the function called when the action server sends a feedback message. If</p></li>
<li><p><strong>set</strong> – </p></li>
<li><p><strong>message.</strong> (<em>called when the server sends a feedback</em>) – </p></li>
<li><p><strong>mutex</strong> (<em>Lock</em>) – it is a <cite>Lock</cite> object synchronised with the <cite>done_callback</cite> and <cite>feedback_callback</cite>. If it is not set</p></li>
<li><p><strong>(</strong><strong>i.e.</strong> – </p></li>
<li><p><strong>None</strong><strong>)</strong> (<em>set to</em>) – </p></li>
<li><p><strong>the</strong> (<em>then a new mutex instance is considered. Set this variable if you want to extends</em>) – </p></li>
<li><p><strong>classes.</strong> (<em>synchronization with other</em>) – </p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="utilities.surveillance_robot.action_client_helper.ActionClientHelper.cancel_goals">
<span class="sig-name descname"><span class="pre">cancel_goals</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilities/surveillance_robot/action_client_helper.html#ActionClientHelper.cancel_goals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utilities.surveillance_robot.action_client_helper.ActionClientHelper.cancel_goals" title="Permalink to this definition"></a></dt>
<dd><p>Stop the computation of the action server.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utilities.surveillance_robot.action_client_helper.ActionClientHelper.get_results">
<span class="sig-name descname"><span class="pre">get_results</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilities/surveillance_robot/action_client_helper.html#ActionClientHelper.get_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utilities.surveillance_robot.action_client_helper.ActionClientHelper.get_results" title="Permalink to this definition"></a></dt>
<dd><p>Method to get the results of the action.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>results of the action server, if any, or <cite>None</cite>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>result (ActionResult)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utilities.surveillance_robot.action_client_helper.ActionClientHelper.is_done">
<span class="sig-name descname"><span class="pre">is_done</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilities/surveillance_robot/action_client_helper.html#ActionClientHelper.is_done"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utilities.surveillance_robot.action_client_helper.ActionClientHelper.is_done" title="Permalink to this definition"></a></dt>
<dd><p>Method to check if the action is done.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>True</cite> if the action server finished is computation, or <cite>False</cite> otherwise.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a> (Bool)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utilities.surveillance_robot.action_client_helper.ActionClientHelper.is_running">
<span class="sig-name descname"><span class="pre">is_running</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilities/surveillance_robot/action_client_helper.html#ActionClientHelper.is_running"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utilities.surveillance_robot.action_client_helper.ActionClientHelper.is_running" title="Permalink to this definition"></a></dt>
<dd><p>Method to check if the action server is running.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>True</cite> if the action server is running, or <cite>False</cite> otherwise.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a> (Bool)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utilities.surveillance_robot.action_client_helper.ActionClientHelper.reset_client_states">
<span class="sig-name descname"><span class="pre">reset_client_states</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilities/surveillance_robot/action_client_helper.html#ActionClientHelper.reset_client_states"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utilities.surveillance_robot.action_client_helper.ActionClientHelper.reset_client_states" title="Permalink to this definition"></a></dt>
<dd><p>Reset the client state variables stored in this class.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utilities.surveillance_robot.action_client_helper.ActionClientHelper.send_goal">
<span class="sig-name descname"><span class="pre">send_goal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">goal</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilities/surveillance_robot/action_client_helper.html#ActionClientHelper.send_goal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utilities.surveillance_robot.action_client_helper.ActionClientHelper.send_goal" title="Permalink to this definition"></a></dt>
<dd><p>Start the action server with a new <cite>goal</cite>.
Note this call is not blocking (i.e., asynchronous performed).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>goal</strong> (<em>ActionGoal</em>) – the goal message of the action</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this heading"></a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</div>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Mohammad Al Horany.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>